{"ast":null,"code":"import React,{useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[file,setFile]=useState(null);const[repoOwner,setRepoOwner]=useState(\"\");const[repoName,setRepoName]=useState(\"\");const[graphUrl,setGraphUrl]=useState(null);const[uploadOption,setUploadOption]=useState(\"file\");// Default to file upload\n// Handle file change\nconst handleFileChange=e=>{const selectedFile=e.target.files[0];setFile(selectedFile);};// Handle form submission\nconst handleSubmit=async e=>{e.preventDefault();// Log the selected upload option to verify it\nconsole.log(\"Selected Upload Option:\",uploadOption);if(uploadOption===\"file\"&&!file){alert(\"Please upload a file.\");return;}if(uploadOption===\"repo\"&&(!repoOwner||!repoName)){alert(\"Please enter both repository owner and name.\");return;}const formData=new FormData();formData.append(\"uploadOption\",uploadOption);// Ensure that uploadOption is included here\nif(uploadOption===\"file\"){formData.append(\"code_file\",file);}else{formData.append(\"repo_owner\",repoOwner);formData.append(\"repo_name\",repoName);}// Debugging step: Log the formData to verify the data being sent\nconsole.log(\"Form Data being sent:\",formData);try{const response=await fetch(\"http://127.0.0.1:5000/upload\",{method:\"POST\",body:formData// Send the form data\n});const data=await response.json();console.log(\"Backend Response:\",data);if(response.ok){setGraphUrl(data.visualization);// Use the visualization URL provided by backend\n}else{alert(\"Error uploading file or fetching repo\");}}catch(error){console.error(\"Error:\",error);alert(\"Error during submission\");}};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Upload Code File or Enter Repository Details\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"uploadOption\",children:\"Select an option:\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"uploadOption\",value:uploadOption,onChange:e=>setUploadOption(e.target.value)// Update uploadOption\n,children:[/*#__PURE__*/_jsx(\"option\",{value:\"file\",children:\"Upload File\"}),/*#__PURE__*/_jsx(\"option\",{value:\"repo\",children:\"Enter Repo Details\"})]}),uploadOption===\"file\"&&/*#__PURE__*/_jsxs(\"div\",{id:\"fileUpload\",style:{marginTop:\"20px\"},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"code_file\",children:\"Upload Code File:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\".py,.txt,.md\",onChange:handleFileChange})]}),uploadOption===\"repo\"&&/*#__PURE__*/_jsxs(\"div\",{id:\"repoDetails\",style:{marginTop:\"20px\"},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"repo_owner\",children:\"Repository Owner:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"repo_owner\",placeholder:\"Enter Repo Owner\",value:repoOwner,onChange:e=>setRepoOwner(e.target.value)}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"repo_name\",children:\"Repository Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"repo_name\",placeholder:\"Enter Repo Name\",value:repoName,onChange:e=>setRepoName(e.target.value)})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:{marginTop:\"20px\"},children:\"Submit\"})]}),graphUrl&&/*#__PURE__*/_jsxs(\"div\",{id:\"graph-container\",style:{marginTop:\"30px\"},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Generated Graph\"}),/*#__PURE__*/_jsx(\"img\",{src:graphUrl,alt:\"Generated Graph\",className:\"graph-image\"})]})]});}export default App;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","App","file","setFile","repoOwner","setRepoOwner","repoName","setRepoName","graphUrl","setGraphUrl","uploadOption","setUploadOption","handleFileChange","e","selectedFile","target","files","handleSubmit","preventDefault","console","log","alert","formData","FormData","append","response","fetch","method","body","data","json","ok","visualization","error","className","children","onSubmit","htmlFor","id","value","onChange","style","marginTop","type","accept","placeholder","src","alt"],"sources":["/Users/vaibhav/PycharmProjects/llm-visplain/frontend/src/App.js"],"sourcesContent":["import React, { useState } from \"react\";\n\nfunction App() {\n  const [file, setFile] = useState(null);\n  const [repoOwner, setRepoOwner] = useState(\"\");\n  const [repoName, setRepoName] = useState(\"\");\n  const [graphUrl, setGraphUrl] = useState(null);\n  const [uploadOption, setUploadOption] = useState(\"file\"); // Default to file upload\n\n  // Handle file change\n  const handleFileChange = (e) => {\n    const selectedFile = e.target.files[0];\n    setFile(selectedFile);\n  };\n\n  // Handle form submission\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    // Log the selected upload option to verify it\n    console.log(\"Selected Upload Option:\", uploadOption);\n\n    if (uploadOption === \"file\" && !file) {\n      alert(\"Please upload a file.\");\n      return;\n    }\n\n    if (uploadOption === \"repo\" && (!repoOwner || !repoName)) {\n      alert(\"Please enter both repository owner and name.\");\n      return;\n    }\n\n    const formData = new FormData();\n    formData.append(\"uploadOption\", uploadOption);  // Ensure that uploadOption is included here\n\n    if (uploadOption === \"file\") {\n      formData.append(\"code_file\", file);\n    } else {\n      formData.append(\"repo_owner\", repoOwner);\n      formData.append(\"repo_name\", repoName);\n    }\n\n    // Debugging step: Log the formData to verify the data being sent\n    console.log(\"Form Data being sent:\", formData);\n\n    try {\n      const response = await fetch(\"http://127.0.0.1:5000/upload\", {\n        method: \"POST\",\n        body: formData,  // Send the form data\n      });\n\n      const data = await response.json();\n      console.log(\"Backend Response:\", data);\n\n      if (response.ok) {\n        setGraphUrl(data.visualization); // Use the visualization URL provided by backend\n      } else {\n        alert(\"Error uploading file or fetching repo\");\n      }\n    } catch (error) {\n      console.error(\"Error:\", error);\n      alert(\"Error during submission\");\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <h1>Upload Code File or Enter Repository Details</h1>\n\n      <form onSubmit={handleSubmit}>\n        <label htmlFor=\"uploadOption\">Select an option:</label>\n        <select\n          id=\"uploadOption\"\n          value={uploadOption}\n          onChange={(e) => setUploadOption(e.target.value)}  // Update uploadOption\n        >\n          <option value=\"file\">Upload File</option>\n          <option value=\"repo\">Enter Repo Details</option>\n        </select>\n\n        {/* File Upload Section */}\n        {uploadOption === \"file\" && (\n          <div id=\"fileUpload\" style={{ marginTop: \"20px\" }}>\n            <label htmlFor=\"code_file\">Upload Code File:</label>\n            <input\n              type=\"file\"\n              accept=\".py,.txt,.md\"\n              onChange={handleFileChange}\n            />\n          </div>\n        )}\n\n        {/* Repository Details Section */}\n        {uploadOption === \"repo\" && (\n          <div id=\"repoDetails\" style={{ marginTop: \"20px\" }}>\n            <label htmlFor=\"repo_owner\">Repository Owner:</label>\n            <input\n              type=\"text\"\n              id=\"repo_owner\"\n              placeholder=\"Enter Repo Owner\"\n              value={repoOwner}\n              onChange={(e) => setRepoOwner(e.target.value)}\n            />\n            <br />\n            <label htmlFor=\"repo_name\">Repository Name:</label>\n            <input\n              type=\"text\"\n              id=\"repo_name\"\n              placeholder=\"Enter Repo Name\"\n              value={repoName}\n              onChange={(e) => setRepoName(e.target.value)}\n            />\n          </div>\n        )}\n\n        <button type=\"submit\" style={{ marginTop: \"20px\" }}>\n          Submit\n        </button>\n      </form>\n\n      {/* Display Graph Image after generation */}\n      {graphUrl && (\n        <div id=\"graph-container\" style={{ marginTop: \"30px\" }}>\n          <h2>Generated Graph</h2>\n          <img src={graphUrl} alt=\"Generated Graph\" className=\"graph-image\" />\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}